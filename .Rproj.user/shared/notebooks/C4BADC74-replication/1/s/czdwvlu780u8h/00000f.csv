"0","get_metrics <- function(pred, prob, actual) {"
"0","  conf <- confusionMatrix(pred, actual)"
"0","  "
"0","  # Ensure AUC is stored as a plain numeric scalar"
"0","  auc_value <- tryCatch({"
"0","    as.numeric(pROC::auc(pROC::roc(as.numeric(actual), as.numeric(prob))))"
"0","  }, error = function(e) NA)"
"0","  "
"0","  data.frame("
"0","    Accuracy = conf$overall[""Accuracy""],"
"0","    Precision = conf$byClass[""Precision""],"
"0","    Recall = conf$byClass[""Recall""],"
"0","    F1 = conf$byClass[""F1""],"
"0","    AUC = auc_value"
"0","  )"
"0","}"
