"0","#| include: false"
"0","#| warning: false"
"0","library(caret)"
"0","library(dplyr)"
"0","library(ggplot2)"
"0","library(forcats)"
"0","library(patchwork)"
"0",""
"0","group_colors <- c(""Normal"" = ""tomato"", ""Obese"" = ""forestgreen"", ""Severely Obese"" = ""steelblue"")"
"0",""
"0",""
"0","# Assuming raw_data and variable_labels are already loaded"
"0",""
"0","# 1. Split data by gender"
"0","data_male <- raw_data %>% filter(gender == 0)"
"0","data_female <- raw_data %>% filter(gender == 1)"
"0",""
"0","# # 2. Drop columns with zero variance"
"0","# drop_zero_var <- function(df) {"
"0","#   nzv <- nearZeroVar(df, saveMetrics = TRUE)"
"0","#   df[, !nzv$zeroVar]"
"0","# }"
"0",""
"0","# data_male <- drop_zero_var(data_male)"
"0","# data_female <- drop_zero_var(data_female)"
"0",""
"0","# 3. Train GBM models"
"0","set.seed(123)"
"0","gbm_male <- train(gallstone_status ~ ., data = data_male, method = ""gbm"", verbose = FALSE)"
"0","gbm_female <- train(gallstone_status ~ ., data = data_female, method = ""gbm"", verbose = FALSE)"
"0",""
