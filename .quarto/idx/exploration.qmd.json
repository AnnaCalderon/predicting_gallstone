{"title":"Exploring","markdown":{"yaml":{"title":"Exploring","format":"html","editor":"visual"},"headingText":"1. Quick structure and summary","containsRefs":false,"markdown":"\n\n```{r}\nlibrary(tidyverse)\nlibrary(readxl)\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(skimr)\nlibrary(corrplot)\nlibrary(GGally)\nlibrary(janitor)\n```\n\n```{r}\nraw_data <- read_xlsx(\"data/dataset-uci.xlsx\") %>% \n  clean_names() %>% \n  mutate(gallstone_status = factor(gallstone_status))\n\nsummary(raw_data)\nskim(raw_data)\nglimpse(raw_data)\n```\n\n```{r}\n# Convert target to factor\nraw_data <- raw_data %>%\n  clean_names() %>%\n  mutate(gallstone_status = factor(gallstone_status))\n\n# Confirm class balance\ntable(raw_data$gallstone_status)\n```\n\nWhat the EDA Suggests ðŸŸ¢ 1. Class Balance Very balanced dataset:\n\nGallstone = 1: 49.5% Gallstone = 0: 50.5%\n\nâœ… Great for training classification models â€” no resampling needed.\n\nðŸŸ¢ 2. Boxplots and Correlations Your boxplots and pairwise correlations indicate some meaningful differences between gallstone vs. non-gallstone groups:\n\nBMI, Total Body Fat Ratio, and Visceral Fat Area:\n\nSlightly higher in the gallstone group.\n\nConsistent with known risk factors (metabolic syndrome, obesity).\n\nGlucose:\n\nAppears right-skewed with some extreme outliers.\n\nHigher glucose in gallstone group aligns with known diabetes/gallstone links.\n\nHDL (Good cholesterol):\n\nPositive correlation with gallstone presence is interesting â€” may warrant further stratification (e.g., by gender or BMI).\n\nðŸ”µ 3. Correlation Matrix Strong internal correlations among body composition variables (e.g., TBFR, VFA, BMI).\n\nCholesterol and liver enzymes show lower correlations with gallstone status directly, but could still contribute in multivariate models.\n\n```{r}\n\n\n# 2. Missing values\ncolSums(is.na(raw_data))\n\n# 3. Gallstone status distribution\nraw_data %>%\n  count(gallstone_status) %>%\n  mutate(percent = round(n / sum(n) * 100, 1))\n\n# 4. Histograms for all numeric variables\nraw_data %>%\n  select(where(is.numeric)) %>%\n  pivot_longer(cols = everything(), names_to = \"variable\", values_to = \"value\") %>%\n  ggplot(aes(x = value)) +\n  geom_histogram(bins = 30, fill = \"steelblue\", color = \"white\") +\n  facet_wrap(~variable, scales = \"free\") +\n  theme_minimal()\n\n# 5. Correlation matrix\ncor_data <- raw_data %>%\n  select(where(is.numeric)) %>%\n  cor(use = \"complete.obs\")\n\ncorrplot(cor_data, method = \"color\", tl.cex = 0.6, number.cex = 0.5)\n\n# 6. Boxplots of selected variables by gallstone status\nselected_vars <- c(\"age\", \"body_mass_index_bmi\", \"glucose\",\n                   \"visceral_fat_area_vfa\", \"total_body_fat_ratio_tbfr_percent\")\n\nraw_data %>%\n  select(gallstone_status, all_of(selected_vars)) %>%\n  pivot_longer(cols = -gallstone_status, names_to = \"feature\", values_to = \"value\") %>%\n  ggplot(aes(x = factor(gallstone_status), y = value, fill = factor(gallstone_status))) +\n  geom_boxplot() +\n  facet_wrap(~feature, scales = \"free\") +\n  labs(x = \"Gallstone Status\", y = NULL, fill = \"Gallstone\") +\n  theme_minimal()\n\n# 7. Pairwise scatterplots for top variables\nggpairs(\n  raw_data,\n  columns = c(\"age\", \"body_mass_index_bmi\", \"glucose\", \"low_density_lipoprotein_ldl\",\n              \"high_density_lipoprotein_hdl\", \"gallstone_status\"),\n  aes(color = factor(gallstone_status), alpha = 0.6)\n)\n\n\n\n```\n\nðŸ§  So What's Left to Explore? ðŸŸ¡ 1. Model Interpretability & Explainability The paper focused on performance metrics but not explainability.\n\nYou can use:\n\nSHAP (Shapley Additive Explanations) to visualize per-patient risk contributions.\n\nLIME for local interpretability of models like GB or RF.\n\nThese help bridge ML models and clinical trust.\n\nðŸŸ¡ 2. Subgroup or Stratified Analysis The paper gave aggregate results. You could explore:\n\nSex-specific predictors (e.g., does CRP matter more in men vs. women?).\n\nAge groups or obesity classes as stratifiers.\n\nInteraction effects: CRP Ã— BMI or TBW Ã— gender.\n\nðŸŸ¡ 3. Alternative Feature Selection Methods They used ANOVA F-score.\n\nYou could test:\n\nRecursive Feature Elimination (RFE)\n\nBoruta for random forest-based selection.\n\nLASSO (for sparse logistic regression).\n\nCompare performance vs. ANOVA features.\n\nðŸŸ¡ 4. Reproducibility & Transparency Rebuild their best models in R or Python and publish:\n\nOpen code + documentation (especially useful for clinical researchers).\n\nCompare performance using different resampling strategies (e.g., repeated k-fold vs. 70/30 split).\n\nðŸŸ¡ 5. External Validation or Transfer Learning As they mention, results are limited to their population.\n\nIf you can find an external gallstone dataset (e.g., from NHANES or another hospital):\n\nApply or fine-tune their models (domain adaptation).\n\nCheck generalizability.\n\nðŸŸ¡ 6. Clinical Tool or Dashboard Package their best-performing model into an app or web tool.\n\nTake patient inputs (CRP, vitamin D, TBW, etc.) and give risk prediction.\n\nYou can build a shiny dashboard (R) or Flask app (Python).\n\nâœ¨ Original Ideas You Could Publish or Share Topic Idea Model Explainability SHAP summary & force plots for key features Clinical Insight Subgroup analysis: CRP and TBW by gender or obesity level Reproducibility Open-source pipeline (data cleaning, modeling, evaluation) Feature Selection Comparison of ANOVA vs. Boruta vs. LASSO Visualization Interactive feature dashboard or model comparison tool Application Convert gradient boosting model into a clinical web tool\n\nLet me know if you'd like to:\n\nRebuild one of their top models in R (e.g., xgboost with caret/tidymodels)?\n\nApply SHAP or LIME for interpretability?\n\nBuild a dashboard or app?\n\nRun subgroup analysis?\n","srcMarkdownNoYaml":"\n\n```{r}\nlibrary(tidyverse)\nlibrary(readxl)\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(skimr)\nlibrary(corrplot)\nlibrary(GGally)\nlibrary(janitor)\n```\n\n```{r}\nraw_data <- read_xlsx(\"data/dataset-uci.xlsx\") %>% \n  clean_names() %>% \n  mutate(gallstone_status = factor(gallstone_status))\n\n# 1. Quick structure and summary\nsummary(raw_data)\nskim(raw_data)\nglimpse(raw_data)\n```\n\n```{r}\n# Convert target to factor\nraw_data <- raw_data %>%\n  clean_names() %>%\n  mutate(gallstone_status = factor(gallstone_status))\n\n# Confirm class balance\ntable(raw_data$gallstone_status)\n```\n\nWhat the EDA Suggests ðŸŸ¢ 1. Class Balance Very balanced dataset:\n\nGallstone = 1: 49.5% Gallstone = 0: 50.5%\n\nâœ… Great for training classification models â€” no resampling needed.\n\nðŸŸ¢ 2. Boxplots and Correlations Your boxplots and pairwise correlations indicate some meaningful differences between gallstone vs. non-gallstone groups:\n\nBMI, Total Body Fat Ratio, and Visceral Fat Area:\n\nSlightly higher in the gallstone group.\n\nConsistent with known risk factors (metabolic syndrome, obesity).\n\nGlucose:\n\nAppears right-skewed with some extreme outliers.\n\nHigher glucose in gallstone group aligns with known diabetes/gallstone links.\n\nHDL (Good cholesterol):\n\nPositive correlation with gallstone presence is interesting â€” may warrant further stratification (e.g., by gender or BMI).\n\nðŸ”µ 3. Correlation Matrix Strong internal correlations among body composition variables (e.g., TBFR, VFA, BMI).\n\nCholesterol and liver enzymes show lower correlations with gallstone status directly, but could still contribute in multivariate models.\n\n```{r}\n\n\n# 2. Missing values\ncolSums(is.na(raw_data))\n\n# 3. Gallstone status distribution\nraw_data %>%\n  count(gallstone_status) %>%\n  mutate(percent = round(n / sum(n) * 100, 1))\n\n# 4. Histograms for all numeric variables\nraw_data %>%\n  select(where(is.numeric)) %>%\n  pivot_longer(cols = everything(), names_to = \"variable\", values_to = \"value\") %>%\n  ggplot(aes(x = value)) +\n  geom_histogram(bins = 30, fill = \"steelblue\", color = \"white\") +\n  facet_wrap(~variable, scales = \"free\") +\n  theme_minimal()\n\n# 5. Correlation matrix\ncor_data <- raw_data %>%\n  select(where(is.numeric)) %>%\n  cor(use = \"complete.obs\")\n\ncorrplot(cor_data, method = \"color\", tl.cex = 0.6, number.cex = 0.5)\n\n# 6. Boxplots of selected variables by gallstone status\nselected_vars <- c(\"age\", \"body_mass_index_bmi\", \"glucose\",\n                   \"visceral_fat_area_vfa\", \"total_body_fat_ratio_tbfr_percent\")\n\nraw_data %>%\n  select(gallstone_status, all_of(selected_vars)) %>%\n  pivot_longer(cols = -gallstone_status, names_to = \"feature\", values_to = \"value\") %>%\n  ggplot(aes(x = factor(gallstone_status), y = value, fill = factor(gallstone_status))) +\n  geom_boxplot() +\n  facet_wrap(~feature, scales = \"free\") +\n  labs(x = \"Gallstone Status\", y = NULL, fill = \"Gallstone\") +\n  theme_minimal()\n\n# 7. Pairwise scatterplots for top variables\nggpairs(\n  raw_data,\n  columns = c(\"age\", \"body_mass_index_bmi\", \"glucose\", \"low_density_lipoprotein_ldl\",\n              \"high_density_lipoprotein_hdl\", \"gallstone_status\"),\n  aes(color = factor(gallstone_status), alpha = 0.6)\n)\n\n\n\n```\n\nðŸ§  So What's Left to Explore? ðŸŸ¡ 1. Model Interpretability & Explainability The paper focused on performance metrics but not explainability.\n\nYou can use:\n\nSHAP (Shapley Additive Explanations) to visualize per-patient risk contributions.\n\nLIME for local interpretability of models like GB or RF.\n\nThese help bridge ML models and clinical trust.\n\nðŸŸ¡ 2. Subgroup or Stratified Analysis The paper gave aggregate results. You could explore:\n\nSex-specific predictors (e.g., does CRP matter more in men vs. women?).\n\nAge groups or obesity classes as stratifiers.\n\nInteraction effects: CRP Ã— BMI or TBW Ã— gender.\n\nðŸŸ¡ 3. Alternative Feature Selection Methods They used ANOVA F-score.\n\nYou could test:\n\nRecursive Feature Elimination (RFE)\n\nBoruta for random forest-based selection.\n\nLASSO (for sparse logistic regression).\n\nCompare performance vs. ANOVA features.\n\nðŸŸ¡ 4. Reproducibility & Transparency Rebuild their best models in R or Python and publish:\n\nOpen code + documentation (especially useful for clinical researchers).\n\nCompare performance using different resampling strategies (e.g., repeated k-fold vs. 70/30 split).\n\nðŸŸ¡ 5. External Validation or Transfer Learning As they mention, results are limited to their population.\n\nIf you can find an external gallstone dataset (e.g., from NHANES or another hospital):\n\nApply or fine-tune their models (domain adaptation).\n\nCheck generalizability.\n\nðŸŸ¡ 6. Clinical Tool or Dashboard Package their best-performing model into an app or web tool.\n\nTake patient inputs (CRP, vitamin D, TBW, etc.) and give risk prediction.\n\nYou can build a shiny dashboard (R) or Flask app (Python).\n\nâœ¨ Original Ideas You Could Publish or Share Topic Idea Model Explainability SHAP summary & force plots for key features Clinical Insight Subgroup analysis: CRP and TBW by gender or obesity level Reproducibility Open-source pipeline (data cleaning, modeling, evaluation) Feature Selection Comparison of ANOVA vs. Boruta vs. LASSO Visualization Interactive feature dashboard or model comparison tool Application Convert gradient boosting model into a clinical web tool\n\nLet me know if you'd like to:\n\nRebuild one of their top models in R (e.g., xgboost with caret/tidymodels)?\n\nApply SHAP or LIME for interpretability?\n\nBuild a dashboard or app?\n\nRun subgroup analysis?\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["styles.css"],"toc":true,"output-file":"exploration.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.7.32","theme":["cosmo","brand"],"title":"Exploring","editor":"visual"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}